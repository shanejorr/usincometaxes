<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1">

<style type="text/css">
@font-face {
font-family: octicons-link;
src: url(data:font/woff;charset=utf-8;base64,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) format('woff');
}
body {
-webkit-text-size-adjust: 100%;
text-size-adjust: 100%;
color: #333;
font-family: "Helvetica Neue", Helvetica, "Segoe UI", Arial, freesans, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
font-size: 16px;
line-height: 1.6;
word-wrap: break-word;
}
a {
background-color: transparent;
}
a:active,
a:hover {
outline: 0;
}
strong {
font-weight: bold;
}
h1 {
font-size: 2em;
margin: 0.67em 0;
}
img {
border: 0;
}
hr {
box-sizing: content-box;
height: 0;
}
pre {
overflow: auto;
}
code,
kbd,
pre {
font-family: monospace, monospace;
font-size: 1em;
}
input {
color: inherit;
font: inherit;
margin: 0;
}
html input[disabled] {
cursor: default;
}
input {
line-height: normal;
}
input[type="checkbox"] {
box-sizing: border-box;
padding: 0;
}
table {
border-collapse: collapse;
border-spacing: 0;
}
td,
th {
padding: 0;
}
* {
box-sizing: border-box;
}
input {
font: 13px / 1.4 Helvetica, arial, nimbussansl, liberationsans, freesans, clean, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
}
a {
color: #4078c0;
text-decoration: none;
}
a:hover,
a:active {
text-decoration: underline;
}
hr {
height: 0;
margin: 15px 0;
overflow: hidden;
background: transparent;
border: 0;
border-bottom: 1px solid #ddd;
}
hr:before {
display: table;
content: "";
}
hr:after {
display: table;
clear: both;
content: "";
}
h1,
h2,
h3,
h4,
h5,
h6 {
margin-top: 15px;
margin-bottom: 15px;
line-height: 1.1;
}
h1 {
font-size: 30px;
}
h2 {
font-size: 21px;
}
h3 {
font-size: 16px;
}
h4 {
font-size: 14px;
}
h5 {
font-size: 12px;
}
h6 {
font-size: 11px;
}
blockquote {
margin: 0;
}
ul,
ol {
padding: 0;
margin-top: 0;
margin-bottom: 0;
}
ol ol,
ul ol {
list-style-type: lower-roman;
}
ul ul ol,
ul ol ol,
ol ul ol,
ol ol ol {
list-style-type: lower-alpha;
}
dd {
margin-left: 0;
}
code {
font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace;
font-size: 12px;
}
pre {
margin-top: 0;
margin-bottom: 0;
font: 12px Consolas, "Liberation Mono", Menlo, Courier, monospace;
}
.select::-ms-expand {
opacity: 0;
}
.octicon {
font: normal normal normal 16px/1 octicons-link;
display: inline-block;
text-decoration: none;
text-rendering: auto;
-webkit-font-smoothing: antialiased;
-moz-osx-font-smoothing: grayscale;
-webkit-user-select: none;
-moz-user-select: none;
-ms-user-select: none;
user-select: none;
}
.octicon-link:before {
content: '\f05c';
}
.markdown-body:before {
display: table;
content: "";
}
.markdown-body:after {
display: table;
clear: both;
content: "";
}
.markdown-body>*:first-child {
margin-top: 0 !important;
}
.markdown-body>*:last-child {
margin-bottom: 0 !important;
}
a:not([href]) {
color: inherit;
text-decoration: none;
}
.anchor {
display: inline-block;
padding-right: 2px;
margin-left: -18px;
}
.anchor:focus {
outline: none;
}
h1,
h2,
h3,
h4,
h5,
h6 {
margin-top: 1em;
margin-bottom: 16px;
font-weight: bold;
line-height: 1.4;
}
h1 .octicon-link,
h2 .octicon-link,
h3 .octicon-link,
h4 .octicon-link,
h5 .octicon-link,
h6 .octicon-link {
color: #000;
vertical-align: middle;
visibility: hidden;
}
h1:hover .anchor,
h2:hover .anchor,
h3:hover .anchor,
h4:hover .anchor,
h5:hover .anchor,
h6:hover .anchor {
text-decoration: none;
}
h1:hover .anchor .octicon-link,
h2:hover .anchor .octicon-link,
h3:hover .anchor .octicon-link,
h4:hover .anchor .octicon-link,
h5:hover .anchor .octicon-link,
h6:hover .anchor .octicon-link {
visibility: visible;
}
h1 {
padding-bottom: 0.3em;
font-size: 2.25em;
line-height: 1.2;
border-bottom: 1px solid #eee;
}
h1 .anchor {
line-height: 1;
}
h2 {
padding-bottom: 0.3em;
font-size: 1.75em;
line-height: 1.225;
border-bottom: 1px solid #eee;
}
h2 .anchor {
line-height: 1;
}
h3 {
font-size: 1.5em;
line-height: 1.43;
}
h3 .anchor {
line-height: 1.2;
}
h4 {
font-size: 1.25em;
}
h4 .anchor {
line-height: 1.2;
}
h5 {
font-size: 1em;
}
h5 .anchor {
line-height: 1.1;
}
h6 {
font-size: 1em;
color: #777;
}
h6 .anchor {
line-height: 1.1;
}
p,
blockquote,
ul,
ol,
dl,
table,
pre {
margin-top: 0;
margin-bottom: 16px;
}
hr {
height: 4px;
padding: 0;
margin: 16px 0;
background-color: #e7e7e7;
border: 0 none;
}
ul,
ol {
padding-left: 2em;
}
ul ul,
ul ol,
ol ol,
ol ul {
margin-top: 0;
margin-bottom: 0;
}
li>p {
margin-top: 16px;
}
dl {
padding: 0;
}
dl dt {
padding: 0;
margin-top: 16px;
font-size: 1em;
font-style: italic;
font-weight: bold;
}
dl dd {
padding: 0 16px;
margin-bottom: 16px;
}
blockquote {
padding: 0 15px;
color: #777;
border-left: 4px solid #ddd;
}
blockquote>:first-child {
margin-top: 0;
}
blockquote>:last-child {
margin-bottom: 0;
}
table {
display: block;
width: 100%;
overflow: auto;
word-break: normal;
word-break: keep-all;
}
table th {
font-weight: bold;
}
table th,
table td {
padding: 6px 13px;
border: 1px solid #ddd;
}
table tr {
background-color: #fff;
border-top: 1px solid #ccc;
}
table tr:nth-child(2n) {
background-color: #f8f8f8;
}
img {
max-width: 100%;
box-sizing: content-box;
background-color: #fff;
}
code {
padding: 0;
padding-top: 0.2em;
padding-bottom: 0.2em;
margin: 0;
font-size: 85%;
background-color: rgba(0,0,0,0.04);
border-radius: 3px;
}
code:before,
code:after {
letter-spacing: -0.2em;
content: "\00a0";
}
pre>code {
padding: 0;
margin: 0;
font-size: 100%;
word-break: normal;
white-space: pre;
background: transparent;
border: 0;
}
.highlight {
margin-bottom: 16px;
}
.highlight pre,
pre {
padding: 16px;
overflow: auto;
font-size: 85%;
line-height: 1.45;
background-color: #f7f7f7;
border-radius: 3px;
}
.highlight pre {
margin-bottom: 0;
word-break: normal;
}
pre {
word-wrap: normal;
}
pre code {
display: inline;
max-width: initial;
padding: 0;
margin: 0;
overflow: initial;
line-height: inherit;
word-wrap: normal;
background-color: transparent;
border: 0;
}
pre code:before,
pre code:after {
content: normal;
}
kbd {
display: inline-block;
padding: 3px 5px;
font-size: 11px;
line-height: 10px;
color: #555;
vertical-align: middle;
background-color: #fcfcfc;
border: solid 1px #ccc;
border-bottom-color: #bbb;
border-radius: 3px;
box-shadow: inset 0 -1px 0 #bbb;
}
.pl-c {
color: #969896;
}
.pl-c1,
.pl-s .pl-v {
color: #0086b3;
}
.pl-e,
.pl-en {
color: #795da3;
}
.pl-s .pl-s1,
.pl-smi {
color: #333;
}
.pl-ent {
color: #63a35c;
}
.pl-k {
color: #a71d5d;
}
.pl-pds,
.pl-s,
.pl-s .pl-pse .pl-s1,
.pl-sr,
.pl-sr .pl-cce,
.pl-sr .pl-sra,
.pl-sr .pl-sre {
color: #183691;
}
.pl-v {
color: #ed6a43;
}
.pl-id {
color: #b52a1d;
}
.pl-ii {
background-color: #b52a1d;
color: #f8f8f8;
}
.pl-sr .pl-cce {
color: #63a35c;
font-weight: bold;
}
.pl-ml {
color: #693a17;
}
.pl-mh,
.pl-mh .pl-en,
.pl-ms {
color: #1d3e81;
font-weight: bold;
}
.pl-mq {
color: #008080;
}
.pl-mi {
color: #333;
font-style: italic;
}
.pl-mb {
color: #333;
font-weight: bold;
}
.pl-md {
background-color: #ffecec;
color: #bd2c00;
}
.pl-mi1 {
background-color: #eaffea;
color: #55a532;
}
.pl-mdr {
color: #795da3;
font-weight: bold;
}
.pl-mo {
color: #1d3e81;
}
kbd {
display: inline-block;
padding: 3px 5px;
font: 11px Consolas, "Liberation Mono", Menlo, Courier, monospace;
line-height: 10px;
color: #555;
vertical-align: middle;
background-color: #fcfcfc;
border: solid 1px #ccc;
border-bottom-color: #bbb;
border-radius: 3px;
box-shadow: inset 0 -1px 0 #bbb;
}
.task-list-item {
list-style-type: none;
}
.task-list-item+.task-list-item {
margin-top: 3px;
}
.task-list-item input {
margin: 0 0.35em 0.25em -1.6em;
vertical-align: middle;
}
:checked+.radio-label {
z-index: 1;
position: relative;
border-color: #4078c0;
}
.sourceLine {
display: inline-block;
}
code .kw { color: #000000; }
code .dt { color: #ed6a43; }
code .dv { color: #009999; }
code .bn { color: #009999; }
code .fl { color: #009999; }
code .ch { color: #009999; }
code .st { color: #183691; }
code .co { color: #969896; }
code .ot { color: #0086b3; }
code .al { color: #a61717; }
code .fu { color: #63a35c; }
code .er { color: #a61717; background-color: #e3d2d2; }
code .wa { color: #000000; }
code .cn { color: #008080; }
code .sc { color: #008080; }
code .vs { color: #183691; }
code .ss { color: #183691; }
code .im { color: #000000; }
code .va {color: #008080; }
code .cf { color: #000000; }
code .op { color: #000000; }
code .bu { color: #000000; }
code .ex { color: #000000; }
code .pp { color: #999999; }
code .at { color: #008080; }
code .do { color: #969896; }
code .an { color: #008080; }
code .cv { color: #008080; }
code .in { color: #008080; }
</style>
<style>
body {
box-sizing: border-box;
min-width: 200px;
max-width: 980px;
margin: 0 auto;
padding: 45px;
padding-top: 0px;
}
</style>


</head>

<body>

<!-- README.md is generated from README.Rmd. Please edit that file -->

<!-- badges: start -->

<!-- badges: end -->

<h2 id="calculate-federal-and-state-income-taxes">Calculate Federal and
State Income Taxes</h2>
<p><code>usincometaxes</code> is an R package that calculates federal
and state income taxes in the United States. It relies on the National
Bureau of Economic Research’s (NBER) <a href="http://taxsim.nber.org/taxsim35/">TAXSIM 35</a> tax simulator for
calculations. The package takes care of the behind-the-scenes work of
getting the data in the proper format, converting it to the proper file
type for uploading to the NBER server, uploading the data, downloading
the results, and placing the results into a tidy data frame.</p>
<p><em>NOTE: This package is not associated with the NBER. It is a
private creation that uses their wonderful tax calculator.</em></p>
<h2 id="installation">Installation</h2>
<p>You can install <code>usincometaxes</code> from CRAN:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&#39;usincometaxes&#39;</span>)</span></code></pre></div>
<h2 id="quick-example">Quick example</h2>
<p><code>usincometaxes</code> helps users estimate household income
taxes from data sets containing financial and household data. This
allows users to estimate income taxes from surveys with financial
information, as the United States Census Public Use Micro Data
(PUMS).</p>
<p>The short example below uses <code>taxsim_calculate_taxes()</code> to
calculate income taxes.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a><span class="fu">library</span>(knitr)</span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a><span class="fu">library</span>(usincometaxes)</span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a></span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a>family_income <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb2-6"><a href="#cb2-6" tabindex="-1"></a>  <span class="at">taxsimid =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>),</span>
<span id="cb2-7"><a href="#cb2-7" tabindex="-1"></a>  <span class="at">state =</span> <span class="fu">c</span>(<span class="st">&#39;North Carolina&#39;</span>, <span class="st">&#39;NY&#39;</span>),</span>
<span id="cb2-8"><a href="#cb2-8" tabindex="-1"></a>  <span class="at">year =</span> <span class="fu">c</span>(<span class="dv">2015</span>, <span class="dv">2023</span>),</span>
<span id="cb2-9"><a href="#cb2-9" tabindex="-1"></a>  <span class="at">mstat =</span> <span class="fu">c</span>(<span class="st">&#39;married, jointly&#39;</span>, <span class="st">&#39;single&#39;</span>),</span>
<span id="cb2-10"><a href="#cb2-10" tabindex="-1"></a>  <span class="at">pwages =</span> <span class="fu">c</span>(<span class="dv">50000</span>, <span class="dv">100000</span>),  <span class="co"># primary wages</span></span>
<span id="cb2-11"><a href="#cb2-11" tabindex="-1"></a>  <span class="at">page =</span> <span class="fu">c</span>(<span class="dv">26</span>, <span class="dv">36</span>) <span class="co"># primary age</span></span>
<span id="cb2-12"><a href="#cb2-12" tabindex="-1"></a>)</span>
<span id="cb2-13"><a href="#cb2-13" tabindex="-1"></a></span>
<span id="cb2-14"><a href="#cb2-14" tabindex="-1"></a>family_taxes <span class="ot">&lt;-</span> <span class="fu">taxsim_calculate_taxes</span>(</span>
<span id="cb2-15"><a href="#cb2-15" tabindex="-1"></a>  <span class="at">.data =</span> family_income,</span>
<span id="cb2-16"><a href="#cb2-16" tabindex="-1"></a>  <span class="at">marginal_tax_rates =</span> <span class="st">&#39;Wages&#39;</span>,</span>
<span id="cb2-17"><a href="#cb2-17" tabindex="-1"></a>  <span class="at">return_all_information =</span> <span class="cn">FALSE</span></span>
<span id="cb2-18"><a href="#cb2-18" tabindex="-1"></a>)</span></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="fu">kable</span>(family_taxes)</span></code></pre></div>
<table>
<thead>
<tr>
<th align="right">taxsimid</th>
<th align="right">fiitax</th>
<th align="right">siitax</th>
<th align="right">fica</th>
<th align="right">frate</th>
<th align="right">srate</th>
<th align="right">ficar</th>
<th align="right">tfica</th>
</tr>
</thead>
<tbody>
<tr>
<td align="right">1</td>
<td align="right">3487.5</td>
<td align="right">2012.50</td>
<td align="right">7650</td>
<td align="right">15</td>
<td align="right">5.75</td>
<td align="right">0</td>
<td align="right">3825</td>
</tr>
<tr>
<td align="right">2</td>
<td align="right">14260.5</td>
<td align="right">4951.75</td>
<td align="right">15300</td>
<td align="right">22</td>
<td align="right">6.00</td>
<td align="right">0</td>
<td align="right">7650</td>
</tr>
</tbody>
</table>
<p>Users can use the <code>taxsimid</code> column to join the tax data
with the original data set. Every <code>taxsimid</code> in the input
data is represented in the output tax data.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a>family_income <span class="sc">%&gt;%</span></span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a>  <span class="fu">left_join</span>(family_taxes, <span class="at">by =</span> <span class="st">&#39;taxsimid&#39;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a>  <span class="fu">kable</span>()</span></code></pre></div>
<table>
<thead>
<tr>
<th align="right">taxsimid</th>
<th align="left">state</th>
<th align="right">year</th>
<th align="left">mstat</th>
<th align="right">pwages</th>
<th align="right">page</th>
<th align="right">fiitax</th>
<th align="right">siitax</th>
<th align="right">fica</th>
<th align="right">frate</th>
<th align="right">srate</th>
<th align="right">ficar</th>
<th align="right">tfica</th>
</tr>
</thead>
<tbody>
<tr>
<td align="right">1</td>
<td align="left">North Carolina</td>
<td align="right">2015</td>
<td align="left">married, jointly</td>
<td align="right">50000</td>
<td align="right">26</td>
<td align="right">3487.5</td>
<td align="right">2012.50</td>
<td align="right">7650</td>
<td align="right">15</td>
<td align="right">5.75</td>
<td align="right">0</td>
<td align="right">3825</td>
</tr>
<tr>
<td align="right">2</td>
<td align="left">NY</td>
<td align="right">2023</td>
<td align="left">single</td>
<td align="right">100000</td>
<td align="right">36</td>
<td align="right">14260.5</td>
<td align="right">4951.75</td>
<td align="right">15300</td>
<td align="right">22</td>
<td align="right">6.00</td>
<td align="right">0</td>
<td align="right">7650</td>
</tr>
</tbody>
</table>
<h2 id="output">Output</h2>
<p><code>taxsim_calculate_taxes()</code> returns a data frame where each
row corresponds to a row in <code>.data</code> and each column is a
piece of tax information. The output and <code>.data</code> can be
linked by the <code>taxsimid</code> column.</p>
<p>The amount of output (tax information) received is controlled by the
<code>return_all_information</code> parameter to
<code>taxsim_calculate_taxes()</code>. Setting
<code>return_all_information</code> to <code>FALSE</code> returns
minimal information such as federal and state tax liabilities and FICA
taxes. When <code>return_all_information</code> is <code>TRUE</code> 44
different tax items are returned.</p>
<p><code>usoncometax</code>’s output contains the same information and
column names as <a href="http://taxsim.nber.org/taxsim35/">TAXSIM
35</a>. Therefore, please consult either the <a href="https://www.shaneorr.io/r/usincometaxes/articles/taxsim-output.html">Description
of Output Columns vignette</a> or <a href="http://taxsim.nber.org/taxsim35/">TAXSIM 35 documentation</a> for
more output information.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a>family_taxes_full_output <span class="ot">&lt;-</span> <span class="fu">taxsim_calculate_taxes</span>(</span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a>  <span class="at">.data =</span> family_income,</span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a>  <span class="at">marginal_tax_rates =</span> <span class="st">&#39;Wages&#39;</span>,</span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a>  <span class="at">return_all_information =</span> <span class="cn">TRUE</span></span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a>)</span>
<span id="cb5-6"><a href="#cb5-6" tabindex="-1"></a></span>
<span id="cb5-7"><a href="#cb5-7" tabindex="-1"></a><span class="fu">kable</span>(family_taxes_full_output)</span></code></pre></div>
<table>
<thead>
<tr>
<th align="right">taxsimid</th>
<th align="right">fiitax</th>
<th align="right">siitax</th>
<th align="right">fica</th>
<th align="right">frate</th>
<th align="right">srate</th>
<th align="right">ficar</th>
<th align="right">tfica</th>
<th align="right">v10_federal_agi</th>
<th align="right">v11_ui_agi</th>
<th align="right">v12_soc_sec_agi</th>
<th align="right">v13_zero_bracket_amount</th>
<th align="right">v14_personal_exemptions</th>
<th align="right">v15_exemption_phaseout</th>
<th align="right">v16_deduction_phaseout</th>
<th align="right">v17_itemized_deductions</th>
<th align="right">v18_federal_taxable_income</th>
<th align="right">v19_tax_on_taxable_income</th>
<th align="right">v20_exemption_surtax</th>
<th align="right">v21_general_tax_credit</th>
<th align="right">v22_child_tax_credit_adjusted</th>
<th align="right">v23_child_tax_credit_refundable</th>
<th align="right">v24_child_care_credit</th>
<th align="right">v25_eitc</th>
<th align="right">v26_amt_income</th>
<th align="right">v27_amt_liability</th>
<th align="right">v28_fed_income_tax_before_credit</th>
<th align="right">v29_fica</th>
<th align="right">v30_state_household_income</th>
<th align="right">v31_state_rent_expense</th>
<th align="right">v32_state_agi</th>
<th align="right">v33_state_exemption_amount</th>
<th align="right">v34_state_std_deduction_amount</th>
<th align="right">v35_state_itemized_deduction</th>
<th align="right">v36_state_taxable_income</th>
<th align="right">v37_state_property_tax_credit</th>
<th align="right">v38_state_child_care_credit</th>
<th align="right">v39_state_eitc</th>
<th align="right">v40_state_total_credits</th>
<th align="right">v41_state_bracket_rate</th>
<th align="right">staxbc</th>
<th align="right">v42_state_rebate</th>
<th align="right">v43_state_energy_credit</th>
<th align="right">v44_state_child_tax_credit</th>
<th align="right">v45_state_property_tax_credit_refundable</th>
<th align="right">v46_state_amt</th>
<th align="right">v47_qualified_business_income_deduction</th>
<th align="right">v48_net_investment_income_tax</th>
<th align="right">v49_additional_medicare_tax</th>
<th align="right">v50_cares_recovery_rebate</th>
<th align="right">v51_additional_child_tax_credit</th>
</tr>
</thead>
<tbody>
<tr>
<td align="right">1</td>
<td align="right">3487.5</td>
<td align="right">2012.50</td>
<td align="right">7650</td>
<td align="right">15</td>
<td align="right">5.75</td>
<td align="right">0</td>
<td align="right">3825</td>
<td align="right">50000</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">12600</td>
<td align="right">8000</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">29400</td>
<td align="right">3487.5</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">50000</td>
<td align="right">0</td>
<td align="right">3487.5</td>
<td align="right">7650</td>
<td align="right">50000.01</td>
<td align="right">0</td>
<td align="right">50000.01</td>
<td align="right">0</td>
<td align="right">15000</td>
<td align="right">0</td>
<td align="right">35000.01</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0.00</td>
<td align="right">2012.50</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr>
<td align="right">2</td>
<td align="right">14260.5</td>
<td align="right">4951.75</td>
<td align="right">15300</td>
<td align="right">22</td>
<td align="right">6.00</td>
<td align="right">0</td>
<td align="right">7650</td>
<td align="right">100000</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">13850</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">86150</td>
<td align="right">14260.5</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">100000</td>
<td align="right">0</td>
<td align="right">14260.5</td>
<td align="right">15300</td>
<td align="right">100001.01</td>
<td align="right">0</td>
<td align="right">100000.01</td>
<td align="right">0</td>
<td align="right">8000</td>
<td align="right">0</td>
<td align="right">92000.01</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">6.25</td>
<td align="right">4951.75</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
</tbody>
</table>
<h2 id="input">Input</h2>
<p>Taxes are calculated with <code>taxsim_calculate_taxes()</code> using
the financial and household characteristics found in the data frame
represented by the <code>.data</code> parameter. Each column is a
different piece of information and each row contains a tax payer
unit.</p>
<p>All columns must have the column names and data types listed in the
<a href="https://www.shaneorr.io/r/usincometaxes/articles/taxsim-input.html">Description
of Input Columns</a> vignette. These are the same column names found in
the <a href="http://taxsim.nber.org/taxsim35/">TAXSIM 35</a>
documentation. Therefore, you can consult the package documentation or
TAXSIM 35 documentation for more information on input columns. There are
two differences between <code>usincometaxes</code> and TAXSIM 35:</p>
<ol style="list-style-type: decimal">
<li><code>usincometaxes</code> allows users to specify the state with
either the two letter abbreviation or <a href="https://taxsim.nber.org/statesoi.html">state SOI code</a>.
<code>usincometaxes</code> will convert the abbreviation to an SOI code
for TAXSIM 35.</li>
<li>For filing status, <code>mstat</code>, users can either use the
TAXSIM 35 integer found in TAXSIM 35’s documentation or one of the
following descriptions:
<ul>
<li>“single” or 1 for single;</li>
<li>“married, jointly” or 2 for married, filing jointly;</li>
<li>“married, separately” or 6 for married, filing separately;</li>
<li>“dependent child” or 8 for dependent, usually a child with income;
or</li>
<li>“head of household” or 1 for head of household filing status.</li>
</ul></li>
</ol>
<p>The input data frame, <code>.data</code>, can contain columns beyond
those listed in the vignette. The additional columns will be
ignored.</p>
<h2 id="marginal-tax-rates">Marginal tax rates</h2>
<p>By default, marginal tax rates are calculated using wages. The
default can be changed with the <code>marginal_tax_rates</code>
parameter to <code>taxsim_calculate_taxes()</code>. Possible options
are: ‘Wages’ (default), ‘Long Term Capital Gains’, ‘Primary Wage
Earner’, or ‘Secondary Wage Earner’.</p>
<h2 id="giving-credit">Giving credit</h2>
<p>The NBER’s <a href="http://taxsim.nber.org/taxsim35/">TAXSIM 35</a>
tax simulator does all tax calculations. This package simply lets users
interact with the tax simulator through R. Therefore, users should cite
the TAXSIM 35 tax simulator when they use this package in their
work:</p>
<p>          Feenberg, Daniel Richard, and Elizabeth Coutts, An
Introduction to the TAXSIM Model, Journal of Policy Analysis and
Management vol 12 no 1, Winter 1993, pages 189-194.</p>
<p>Aman Gupta Karmani created the <a href="https://github.com/tmm1/taxsim.js">WebAssembly / JavaScript
files</a>. These files also power his tax calculator web app at <a href="https://taxsim.app">taxsim.app</a>.</p>

</body>
</html>
